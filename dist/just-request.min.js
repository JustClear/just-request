!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("request",t):e.request=t()}(this,function(){"use strict";function e(e){try{return JSON.parse(e)}catch(t){return e}}function t(e){return"string"==typeof e?e:Object.keys(e).reduce(function(t,n){return(t?t+"&":"")+encodeURIComponent(n)+"="+encodeURIComponent(e[n])},"")}function n(e,t){t=t||{},r(t)||(t["Content-Type"]="application/x-www-form-urlencoded"),Object.keys(t).map(function(n){return t[n]&&e.setRequestHeader(n,t[n])})}function r(e){return Object.keys(e).some(function(e){return"content-type"===e.toLowerCase()})}function o(e){if("get"!==e.method.toLowerCase()||!e.data)return e.url;var n=t(e.data),r=e.url.indexOf("?")>-1?"&":"?";return e.url+r+n}function u(e){"string"==typeof e&&(e={},e.url=arguments[0]),e=e||{},e.data=e.data||{},e.method=e.method||"get";var t=["get","post","put","delete"];return e.url?a(e):t.reduce(function(t,n){return t[n]=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(Object.assign(e,{method:n,url:t,data:r}))},t},{then:function(){return console.log("use request().methodName() to specify request method"),Object.assign({catch:function(){}})}})}function a(e){var r=new XMLHttpRequest,u=["then","catch"],a=u.reduce(function(e,t){return e[t]=function(n){return e[t]=n,e},e},{});return r.open(e.method,o(e),!0),r.withCredentials=e.hasOwnProperty("withCredentials"),n(r,e.headers),r.addEventListener("readystatechange",c(r,a),!1),r.send(t(e.data)),a.abort=function(){return r.abort()},a}function c(t,n){return function r(){if(t.readyState===t.DONE){t.removeEventListener("readystatechange",r,!1);var o=t.status>=200&&t.status<300?"then":"catch";n[o].call(n,e(t.responseText))}}}return u});
//# sourceMappingURL=just-request.min.js.map
